/* Thai Font */
@font-face{font-family:'Noto Sans Thai';src:url('NotoSansThai-Regular.ttf') format('truetype');font-weight:normal;font-style:normal;font-display:swap}

/* Success Animations & Micro-interactions */
@keyframes successPulse{0%{transform:scale(1)}50%{transform:scale(1.05)}100%{transform:scale(1)}}
@keyframes successShake{0%,100%{transform:translateX(0)}25%{transform:translateX(-4px)}75%{transform:translateX(4px)}}
@keyframes successBounce{0%,100%{transform:translateY(0)}50%{transform:translateY(-8px)}}
@keyframes checkmark{
  0%{stroke-dashoffset:100}
  100%{stroke-dashoffset:0}
}
@keyframes ripple{0%{transform:scale(0);opacity:1}100%{transform:scale(4);opacity:0}}
@keyframes slideUp{0%{transform:translateY(20px);opacity:0}100%{transform:translateY(0);opacity:1}}
@keyframes fadeIn{0%{opacity:0}100%{opacity:1}}
@keyframes successGlow{0%{box-shadow:0 0 0 0 rgba(34,197,94,.7)}100%{box-shadow:0 0 0 20px rgba(34,197,94,0)}}

.success-animation{animation:successPulse .4s ease-out}
.success-shake{animation:successShake .5s ease-out}
.success-bounce{animation:successBounce .6s ease-out}
.success-glow{animation:successGlow .6s ease-out}

/* Success Checkmark Overlay */
.success-overlay{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);z-index:10000;pointer-events:none}
.success-checkmark{width:80px;height:80px;background:#22c55e;border-radius:50%;display:flex;align-items:center;justify-content:center;animation:successPulse .5s ease-out;box-shadow:0 8px 32px rgba(34,197,94,.4)}
.success-checkmark svg{width:48px;height:48px;display:block}
.success-checkmark svg path{
  stroke:#ffffff;
  stroke-width:4;
  stroke-linecap:round;
  stroke-linejoin:round;
  fill:none;
  stroke-dasharray:100;
  stroke-dashoffset:100;
}

/* Button Ripple Effect */
.btn-ripple{position:relative;overflow:hidden}
.btn-ripple::after{content:'';position:absolute;top:50%;left:50%;width:0;height:0;border-radius:50%;background:rgba(255,255,255,.5);transform:translate(-50%,-50%);transition:width .6s,height .6s}
.btn-ripple:active::after{width:300px;height:300px}

/* Input Success State */
.input-success{border-color:#22c55e!important;animation:successGlow .6s ease-out}
.input-success:focus{border-color:#22c55e!important;box-shadow:0 0 0 3px rgba(34,197,94,.2)!important}

/* Onboarding Tutorial */
.onboarding-overlay{position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.75);z-index:9999;opacity:0;transition:opacity .3s ease;pointer-events:none}
.onboarding-overlay.active{opacity:1;pointer-events:auto}

.onboarding-highlight{position:relative;z-index:10000!important;box-shadow:0 0 0 4px #60a5fa,0 0 0 8px rgba(96,165,250,.3),0 0 32px rgba(96,165,250,.5)!important;border-radius:8px!important;animation:onboardingPulse 2s ease-in-out infinite}

@keyframes onboardingPulse{0%,100%{box-shadow:0 0 0 4px #60a5fa,0 0 0 8px rgba(96,165,250,.3),0 0 32px rgba(96,165,250,.5)}50%{box-shadow:0 0 0 4px #60a5fa,0 0 0 12px rgba(96,165,250,.4),0 0 48px rgba(96,165,250,.6)}}

.onboarding-tooltip{position:fixed;background:#111827;border:2px solid #60a5fa;border-radius:16px;padding:0;max-width:400px;min-width:320px;z-index:10001;opacity:0;transform:scale(.9);transition:all .3s ease;box-shadow:0 12px 48px rgba(0,0,0,.8),0 0 0 1px rgba(96,165,250,.2)}
.onboarding-tooltip.active{opacity:1;transform:scale(1)}

.onboarding-tooltip-header{padding:20px 24px 16px;border-bottom:1px solid #1f2937;display:flex;justify-content:space-between;align-items:center}
.onboarding-tooltip-title{font-size:18px;font-weight:700;color:#60a5fa}
.onboarding-close{background:transparent;border:none;color:#9ca3af;font-size:24px;cursor:pointer;padding:0;width:28px;height:28px;display:flex;align-items:center;justify-content:center;border-radius:6px;transition:all .2s ease}
.onboarding-close:hover{background:#1e293b;color:#fff}

.onboarding-tooltip-content{padding:20px 24px;font-size:15px;line-height:1.6;color:#cbd5e1}

.onboarding-tooltip-footer{padding:16px 24px 20px;border-top:1px solid #1f2937;display:flex;justify-content:space-between;align-items:center}
.onboarding-progress{font-size:13px;color:#9ca3af;font-weight:600}
.onboarding-buttons{display:flex;gap:8px}
.onboarding-btn{padding:10px 20px;border-radius:8px;border:none;font-size:14px;font-weight:600;cursor:pointer;transition:all .2s ease;white-space:nowrap}
.onboarding-btn.primary{background:#60a5fa;color:#fff}
.onboarding-btn.primary:hover{background:#3b82f6;transform:translateY(-1px);box-shadow:0 4px 12px rgba(96,165,250,.4)}
.onboarding-btn.secondary{background:#1e293b;color:#cbd5e1;border:1px solid #334155}
.onboarding-btn.secondary:hover{background:#334155;color:#fff}

/* Mobile adjustments for onboarding */
@media(max-width:768px){
  .onboarding-tooltip{max-width:calc(100vw - 32px);min-width:280px;left:16px!important;right:16px!important;width:auto!important}
  .onboarding-tooltip-header{padding:16px 20px 12px}
  .onboarding-tooltip-title{font-size:16px}
  .onboarding-tooltip-content{padding:16px 20px;font-size:14px}
  .onboarding-tooltip-footer{padding:12px 20px 16px;flex-direction:column;gap:12px;align-items:stretch}
  .onboarding-buttons{flex-direction:column;width:100%}
  .onboarding-btn{width:100%;justify-content:center}
}

/* Reset & Base */
*{box-sizing:border-box;margin:0;padding:0;font-family:'Noto Sans Thai',ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif}
body{margin:0;font-family:'Noto Sans Thai',ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;background:#0b1220;color:#e5e7eb;line-height:1.6;-webkit-tap-highlight-color:transparent;touch-action:manipulation}
input,select,button,textarea{-webkit-tap-highlight-color:transparent;font-family:'Noto Sans Thai',ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif}

/* Header */
.topbar{display:flex;justify-content:space-between;align-items:center;padding:16px 24px;background:#0f172a;border-bottom:1px solid #1f2937;position:sticky;top:0;z-index:100;box-shadow:0 2px 8px rgba(0,0,0,.3)}
.brand{font-size:20px;font-weight:700;letter-spacing:.5px;color:#60a5fa}
.hamburger{display:none;flex-direction:column;gap:4px;background:transparent;border:none;cursor:pointer;padding:8px;z-index:101}
.hamburger span{width:24px;height:3px;background:#cbd5e1;border-radius:2px;transition:all .3s ease}
.hamburger.active span:nth-child(1){transform:rotate(45deg) translate(6px,6px)}
.hamburger.active span:nth-child(2){opacity:0}
.hamburger.active span:nth-child(3){transform:rotate(-45deg) translate(6px,-6px)}
.nav{display:flex;gap:4px;flex-wrap:wrap}
.nav-btn{background:transparent;border:0;color:#cbd5e1;padding:10px 16px;margin:0;border-radius:10px;cursor:pointer;font-size:14px;font-weight:500;transition:all .2s ease;white-space:nowrap}
.nav-btn:hover{color:#fff;background:#1e293b;transform:translateY(-1px)}
.nav-btn.active{color:#fff;background:#1f2937;box-shadow:inset 0 2px 4px rgba(0,0,0,.3)}

/* Main Layout */
main{padding:24px;max-width:1400px;margin:0 auto;min-height:calc(100vh - 140px)}
.grid{display:grid;grid-template-columns:1fr;gap:20px}
@media(min-width:768px){.grid{grid-template-columns:1fr 1fr}}
@media(min-width:1200px){.grid{grid-template-columns:repeat(2,1fr)}}

/* Cards */
.card{background:#111827;border:1px solid #1f2937;border-radius:16px;padding:24px;box-shadow:0 4px 24px rgba(0,0,0,.4);transition:box-shadow .3s ease}
.card:hover{box-shadow:0 6px 32px rgba(0,0,0,.5)}
.card.full-width{grid-column:1/-1}
h3{margin:0 0 20px 0;color:#fff;font-size:18px;font-weight:600;border-bottom:2px solid #1f2937;padding-bottom:12px}

/* KPIs */
.kpis{display:flex;flex-wrap:wrap;gap:12px}
.kpi{flex:1 1 140px;background:#0f172a;border:1px solid #243041;border-radius:12px;padding:16px;transition:all .2s ease;min-width:140px}
.kpi:hover{border-color:#334155;transform:translateY(-2px)}
.kpi-clickable{cursor:pointer}
.kpi-clickable:hover{border-color:#2563eb;background:#1e293b}
.kpi-label{font-size:11px;color:#9ca3af;text-transform:uppercase;letter-spacing:.5px;font-weight:600}
.kpi-value{font-size:32px;font-weight:700;margin-top:8px;color:#60a5fa}
.kpi-trend{font-size:11px;color:#6b7280;margin-top:4px}

/* Chart Summary */
.chart-summary{font-size:13px;color:#9ca3af;margin-bottom:12px;padding:8px 12px;background:#0f172a;border-radius:8px;border-left:3px solid #2563eb}

/* Category List */
.category-list{max-height:240px;overflow-y:auto}
.category-item{display:flex;justify-content:space-between;align-items:center;padding:10px 12px;margin:6px 0;background:#0f172a;border-radius:8px;border-left:3px solid #60a5fa;transition:all .2s ease}
.category-item:hover{background:#1e293b;transform:translateX(4px)}
.category-name{font-weight:600;color:#e5e7eb}
.category-amount{color:#60a5fa;font-weight:700}
.category-bar{height:4px;background:#1f2937;border-radius:2px;margin-top:6px;overflow:hidden}
.category-bar-fill{height:100%;background:linear-gradient(90deg,#3b82f6,#60a5fa);border-radius:2px;transition:width .3s ease}

/* Activity List */
.activity-list{max-height:300px;overflow-y:auto}
.activity-item{display:flex;align-items:center;gap:12px;padding:12px;margin:6px 0;background:#0f172a;border-radius:8px;transition:all .2s ease}
.activity-item:hover{background:#1e293b}
.activity-icon{width:40px;height:40px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:18px;background:#1f2937;flex-shrink:0}
.activity-icon.buy{background:#1e40af;color:#93c5fd}
.activity-icon.use{background:#065f46;color:#6ee7b7}
.activity-icon.waste{background:#991b1b;color:#fca5a5}
.activity-content{flex:1;min-width:0}
.activity-title{font-weight:600;color:#e5e7eb;font-size:14px}
.activity-desc{font-size:12px;color:#9ca3af;margin-top:2px}
.activity-time{font-size:11px;color:#6b7280;white-space:nowrap}

/* Forms */
.form-row{display:flex;gap:12px;align-items:flex-start;margin:16px 0;flex-wrap:wrap}
.form-row.triple{gap:16px}
.form-row.triple>div{flex:1;min-width:180px}
.form-field{flex:1;min-width:200px}
label{display:block;font-size:13px;color:#9ca3af;margin-bottom:6px;font-weight:500}
label.required::after{content:" *";color:#ef4444}
input,select{width:100%;border-radius:10px;border:1px solid #334155;background:#0b1220;color:#e5e7eb;padding:12px 14px;font-size:14px;transition:all .2s ease}
input:focus,select:focus{outline:none;border-color:#2563eb;box-shadow:0 0 0 3px rgba(37,99,235,.1)}
input::placeholder{color:#6b7280}
input:disabled,select:disabled{opacity:.5;cursor:not-allowed}
input[type="date"]{font-family:inherit;-webkit-appearance:none;-moz-appearance:none;appearance:none;min-height:auto}
input[type="date"]::-webkit-calendar-picker-indicator{filter:invert(1);opacity:0.7;cursor:pointer}
.form-row.hidden{display:none}

/* Buttons */
button{border-radius:10px;border:1px solid transparent;padding:12px 20px;font-size:14px;font-weight:600;cursor:pointer;transition:all .2s ease;white-space:nowrap}
button:disabled{opacity:.5;cursor:not-allowed}
button.primary{background:#2563eb;border-color:#2563eb;color:#fff}
button.primary:hover:not(:disabled){background:#1d4ed8;transform:translateY(-1px);box-shadow:0 4px 12px rgba(37,99,235,.4)}
button.secondary{background:#374151;border-color:#374151;color:#e5e7eb}
button.secondary:hover:not(:disabled){background:#4b5563;transform:translateY(-1px)}
button.danger{background:#dc2626;border-color:#dc2626;color:#fff}
button.danger:hover:not(:disabled){background:#b91c1c;transform:translateY(-1px)}
button.small{padding:6px 12px;font-size:12px}
button.small+button.small{margin-left:4px}
.form-actions{display:flex;gap:12px;margin-top:20px;flex-wrap:wrap}

/* Quick Actions */
.quick-actions-card{background:#1e293b;border-color:#334155;margin-bottom:20px}
.quick-actions-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:12px}
.quick-action-btn{display:flex;flex-direction:column;align-items:center;gap:8px;padding:16px 12px;min-height:90px;white-space:normal}
.quick-action-icon{font-size:24px;line-height:1}
.quick-action-text{font-size:13px;text-align:center;line-height:1.3}

/* Tables */
.table-controls{display:flex;gap:12px;margin-bottom:16px;flex-wrap:wrap;align-items:center}
.table-controls input{flex:1;min-width:200px;max-width:400px}
.table{overflow:auto;border:1px solid #1f2937;border-radius:12px;max-height:calc(100vh - 350px);min-height:400px}
table{width:100%;border-collapse:collapse;font-size:14px}
th,td{padding:12px 16px;border-bottom:1px solid #1f2937;text-align:left}
th{position:sticky;top:0;background:#0f172a;font-weight:600;color:#9ca3af;text-transform:uppercase;font-size:11px;letter-spacing:.5px;z-index:10;cursor:pointer;user-select:none}
th:hover{background:#1e293b}
th.sortable::after{content:" ↕";opacity:.3}
td{color:#cbd5e1}
tbody tr{
  user-select:none;
  -webkit-user-select:none;
  -moz-user-select:none;
  -ms-user-select:none;
  -webkit-touch-callout:none;
  cursor:pointer;
}
tr:hover td{background:#0f172a}
.empty-state{padding:40px;text-align:center;color:#6b7280}
.empty-state-icon{font-size:48px;margin-bottom:12px;opacity:.3}

/* Badges */
.badge{display:inline-block;padding:4px 10px;border-radius:999px;font-size:11px;font-weight:600;text-transform:uppercase;letter-spacing:.3px}
.badge.yes{background:#dc2626;color:#fff}
.badge.warn{background:#f59e0b;color:#fff}
.badge.info{background:#3b82f6;color:#fff}
.badge.success{background:#10b981;color:#fff}
.badge.expired{background:#ef4444;color:#fff}
.badge.soon{background:#f59e0b;color:#fff}

/* Notifications */
.toast{background:#111827;border:1px solid #1f2937;border-radius:12px;padding:16px 20px;box-shadow:0 8px 32px rgba(0,0,0,.5);animation:slideIn .3s ease;max-width:400px;min-width:300px}
.toast.success{border-left:4px solid #10b981}
.toast.error{border-left:4px solid #ef4444}
.toast.info{border-left:4px solid #3b82f6}
@keyframes slideIn{from{transform:translateX(400px);opacity:0}to{transform:translateX(0);opacity:1}}
@keyframes slideOut{from{transform:translateX(0);opacity:1}to{transform:translateX(400px);opacity:0}}

/* Views */
.view{display:none;animation:fadeIn .3s ease}
.view.active{display:block}
@keyframes fadeIn{from{opacity:0}to{opacity:1}}

/* Footer */
.foot{padding:24px;color:#6b7280;text-align:center;font-size:13px}
.hint{color:#9ca3af;font-size:13px;margin-top:12px;padding:12px;background:#0f172a;border-radius:8px;border-left:3px solid #334155}

/* Loading */
.loading{text-align:center;padding:40px;color:#6b7280}
.spinner{display:inline-block;width:40px;height:40px;border:3px solid #1f2937;border-top-color:#60a5fa;border-radius:50%;animation:spin 1s linear infinite}
@keyframes spin{to{transform:rotate(360deg)}}

/* Modal */
.modal{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.85);z-index:1000;display:flex;align-items:center;justify-content:center;padding:20px}
.modal-content{background:#111827;border:1px solid #1f2937;border-radius:16px;max-width:600px;width:100%;max-height:90vh;overflow:hidden;box-shadow:0 8px 32px rgba(0,0,0,.6)}
.modal-header{display:flex;justify-content:space-between;align-items:center;padding:20px 24px;border-bottom:1px solid #1f2937}
.modal-header h3{margin:0;padding:0;border:none}
.close-btn{background:transparent;border:none;color:#9ca3af;font-size:32px;cursor:pointer;padding:0;line-height:1;width:32px;height:32px;display:flex;align-items:center;justify-content:center;border-radius:8px;transition:all .2s ease}
.close-btn:hover{background:#1e293b;color:#fff}
.modal-body{padding:24px;max-height:calc(90vh - 80px);overflow-y:auto}
#barcodeVideo{width:100%;max-width:500px;border-radius:12px;background:#000;display:block;margin:0 auto}
.barcode-result{margin-top:16px;padding:12px;background:#0f172a;border-radius:8px;border-left:3px solid #10b981;color:#10b981;font-weight:600;text-align:center;display:none}
.barcode-result.show{display:block}

/* Responsive */
@media(max-width:768px){
  /* Header - Hamburger menu */
  .topbar{padding:12px 16px;flex-direction:row;align-items:center;gap:0}
  .brand{font-size:18px;flex:1}
  .hamburger{display:flex}
  .nav{position:fixed;top:57px;right:0;width:280px;max-height:calc(100vh - 57px);overflow-y:auto;background:#0f172a;border-left:1px solid #1f2937;border-bottom:1px solid #1f2937;box-shadow:-4px 4px 12px rgba(0,0,0,.5);flex-direction:column;gap:0;padding:8px;transform:translateX(100%);transition:transform .3s ease;z-index:99}
  .nav.open{transform:translateX(0)}
  .nav-btn{padding:16px 20px;font-size:15px;text-align:left;width:100%;border-radius:8px;margin:2px 0}
  .nav-btn:hover{transform:none}
  .nav-btn.active{background:#1e293b}
  
  /* Main Layout - Single column, optimized spacing */
  main{padding:12px;padding-bottom:80px}
  
  /* Cards - Adjusted padding and margins */
  .card{padding:16px;margin-bottom:12px;border-radius:12px}
  h3{font-size:16px;margin-bottom:16px;padding-bottom:10px}
  
  /* KPIs - 2 columns on mobile, better fit */
  .kpis{gap:8px}
  .kpi{flex:1 1 calc(50% - 4px);min-width:0;padding:12px}
  .kpi-label{font-size:10px}
  .kpi-value{font-size:24px;margin-top:6px}
  .kpi-trend{font-size:10px}
  
  /* Charts - Full width, adjusted height */
  .grid{gap:12px}
  canvas{max-width:100%;height:auto !important}
  
  /* Chart Summary - Smaller text, more compact */
  .chart-summary{font-size:11px;padding:6px 10px;margin-bottom:10px}
  
  /* Category List - More compact */
  .category-list{max-height:200px}
  .category-item{padding:8px 10px;margin:4px 0}
  .category-name{font-size:13px}
  .category-amount{font-size:13px}
  
  /* Activity List - More compact */
  .activity-list{max-height:250px}
  .activity-item{gap:10px;padding:10px}
  .activity-icon{width:36px;height:36px;font-size:16px}
  .activity-title{font-size:13px}
  .activity-desc{font-size:11px}
  .activity-time{font-size:10px}
  
  /* Forms - Single column */
  .form-row{flex-direction:column;gap:12px;margin:12px 0}
  .form-field{min-width:100%}
  .form-row.triple>div{min-width:100%}
  label{font-size:12px;margin-bottom:4px}
  input,select{padding:10px 12px;font-size:14px}
  input[type="date"]{padding:10px 12px;font-size:14px;height:auto;line-height:normal}
  
  /* Buttons - Full width on mobile for better tap targets */
  .form-actions{flex-direction:column}
  .form-actions button{width:100%}
  button{padding:12px 16px;font-size:14px}
  button.small{padding:10px 14px;font-size:13px;min-width:60px}
  
  /* Tables - Horizontal scroll, expanded height on mobile */
  .table-controls{flex-direction:column}
  .table-controls input{max-width:100%}
  .table{border-radius:8px;max-height:calc(100vh - 280px);min-height:500px}
  table{font-size:12px;min-width:600px}
  th,td{padding:8px 10px;font-size:12px}
  th{font-size:10px}
  
  /* Action buttons in tables - Better spacing */
  td button.small{margin:2px;padding:8px 12px;min-width:55px}
  
  /* Badges - Smaller */
  .badge{padding:3px 8px;font-size:10px}
  
  /* Toast container - Mobile adjustments */
  #toast-container{bottom:12px!important;right:12px!important;left:12px!important;width:auto!important}
  .toast{max-width:none;min-width:auto;padding:14px 16px;font-size:13px}
  
  /* Empty state - Smaller */
  .empty-state{padding:30px 20px}
  .empty-state-icon{font-size:36px}
  
  /* Footer */
  .foot{padding:16px;font-size:12px}
  
  .hint{font-size:12px;padding:10px;margin-top:10px}
  
  /* Quick Add Action Buttons - Stack vertically */
  .table-controls button{width:100%;margin-bottom:8px}
  
  /* Mobile-specific: Hide desktop-only spacing */
  .card:first-child{margin-top:0}
  
  /* Mobile-specific: Optimize dashboard order */
  #viewDashboard .card:nth-child(1){order:1} /* KPIs first */
  #viewDashboard .card:nth-child(2){order:4} /* Daily cooking chart */
  #viewDashboard .card:nth-child(3){order:5} /* Weekly shopping chart */
  #viewDashboard .card:nth-child(4){order:3} /* Top categories */
  #viewDashboard .card:nth-child(5){order:2} /* Recent activity (more important on mobile) */
  #viewDashboard .card:nth-child(6){order:6} /* Pie chart */
  
  /* Make dashboard a flex container for reordering */
  #viewDashboard{display:flex;flex-direction:column}
  
  /* Modal - Full screen on mobile */
  .modal{padding:0}
  .modal-content{max-width:100%;width:100%;max-height:100vh;border-radius:0}
  .modal-header{padding:16px}
  .modal-body{padding:16px;max-height:calc(100vh - 70px)}
  #barcodeVideo{border-radius:8px}
}

/* Desktop: Larger screens */
@media (min-width: 769px) {
  .quick-actions-grid{grid-template-columns:repeat(4,1fr)}
  .quick-action-btn{min-height:100px}
}

/* Tablet specific - 2 column KPIs, better spacing */
@media(min-width:481px) and (max-width:768px){
  .kpi{flex:1 1 calc(50% - 6px)}
  .nav-btn{flex:0 1 auto}
}

/* Very small phones - Single column KPIs */
@media(max-width:480px){
  .kpis{flex-direction:column}
  .kpi{flex:1 1 100%;min-width:100%}
  .nav{flex-wrap:wrap}
  .nav-btn{flex:1 1 calc(50% - 3px);font-size:11px;padding:8px 10px}
}

/* Landscape mobile - Adjust for wide but short screens */
@media(max-height:500px) and (orientation:landscape){
  main{padding:8px}
  .card{padding:12px;margin-bottom:8px}
  .kpi{padding:10px}
  .kpi-value{font-size:20px}
  .activity-list{max-height:150px}
  .category-list{max-height:150px}
}

/* Context Menu - Right-click and Long-press */
.context-menu{
  position:fixed;
  background:#ffffff;
  border:1px solid #e5e7eb;
  border-radius:8px;
  box-shadow:0 4px 12px rgba(0,0,0,.15),0 0 0 1px rgba(0,0,0,.05);
  padding:4px 0;
  min-width:180px;
  max-width:250px;
  z-index:10000;
  opacity:0;
  transform:scale(0.95);
  transition:opacity .15s ease,transform .15s ease;
  pointer-events:none;
}

.context-menu.active{
  opacity:1;
  transform:scale(1);
  pointer-events:auto;
}

.context-menu-item{
  display:flex;
  align-items:center;
  gap:10px;
  padding:12px 16px;
  font-size:14px;
  color:#1f2937;
  cursor:pointer;
  transition:background .1s ease;
  border:none;
  background:none;
  width:100%;
  text-align:left;
  white-space:nowrap;
  line-height:1.4;
}

.context-menu-item:hover{
  background:#f3f4f6;
}

.context-menu-item:active{
  background:#e5e7eb;
}

.context-menu-item.danger{
  color:#ffffff;
  font-weight:500;
}

.context-menu-item.danger:hover{
  background:#fee2e2;
  color:#b91c1c;
}

.context-menu-item.danger:active{
  background:#fecaca;
}

.context-menu-item .icon{
  font-size:16px;
  width:20px;
  text-align:center;
}

.context-menu-divider{
  height:1px;
  background:#e5e7eb;
  margin:4px 0;
}

/* Long-press feedback */
.long-press-active{
  background:#f3f4f6!important;
  transform:scale(0.98);
  transition:all .15s ease;
}

/* Context menu backdrop */
.context-menu-backdrop{
  position:fixed;
  top:0;
  left:0;
  right:0;
  bottom:0;
  z-index:9999;
  display:none;
}

.context-menu-backdrop.active{
  display:block;
}
